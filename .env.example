# Database
DATABASE_URL=postgresql://hashinsight:hashinsight@localhost:5432/hashinsight
POSTGRES_USER=hashinsight
POSTGRES_PASSWORD=hashinsight

# Redis
REDIS_URL=redis://localhost:6379/0

# Flask
SESSION_SECRET=change-this-in-production
FLASK_ENV=development

# CRM Integration API Key (for API Key Auth)
API_KEY_1="hsi_crm_service_2025"
API_KEY_1_ROLE="owner"

# Optional: Intelligence Layer
OPENAI_API_KEY=sk-...

# Optional: External APIs
COINGECKO_API_KEY=
DERIBIT_API_KEY=
DERIBIT_API_SECRET=
COINWARZ_API_KEY=
BLOCKCHAIN_INFO_API_KEY=
MEMPOOL_SPACE_API_KEY=

# Feature Flags
FEATURE_WEB3_ENABLED=false
FEATURE_CRM_ENABLED=false
FEATURE_TREASURY_EXECUTION_ENABLED=false

# SLO监控配置
# P95 TTR（Time To Recalculate）阈值配置
ALERT_P95_TTR_WARNING=5000      # 警告阈值（毫秒），默认5秒
ALERT_P95_TTR_CRITICAL=10000    # 严重阈值（毫秒），默认10秒

# 成功率阈值配置
ALERT_SUCCESS_RATE_WARNING=99.9  # 警告阈值（%），默认99.9%
ALERT_SUCCESS_RATE_CRITICAL=99.0 # 严重阈值（%），默认99.0%

# 缓存命中率阈值配置
ALERT_CACHE_HIT_RATE_WARNING=80  # 警告阈值（%），默认80%
ALERT_CACHE_HIT_RATE_CRITICAL=50 # 严重阈值（%），默认50%

# TypeScript Microservices Layer
TS_API_PORT=3000                 # TypeScript API服务器端口
TS_API_KEY=hashinsight_dev_key_2025  # TypeScript API认证密钥
DEMO_MODE=1                      # 演示模式（1=启用，0=禁用）

# DataHub配置
DATAHUB_PRICE_TTL=30             # 价格缓存TTL（秒）
DATAHUB_CHAIN_TTL=300            # 链上数据缓存TTL（秒）
DATAHUB_TIMEOUT_MS=8000          # API请求超时（毫秒）

# 矿机适配器配置
ANTMINER_DEFAULT_PORT=4028
ANTMINER_TIMEOUT_MS=5000
WHATSMINER_DEFAULT_PORT=4028
WHATSMINER_TIMEOUT_MS=5000

# 限电策略配置
CURTAILMENT_MAX_THROTTLE=0.5     # 最大限功率比例（0-1）
CURTAILMENT_PRICE_THRESHOLD=0.10 # 触发限电的电价阈值（USD/kWh）
CURTAILMENT_REQUIRE_CONFIRM=true # 执行前需要确认

# 注意：修改这些值需要重启应用才能生效
