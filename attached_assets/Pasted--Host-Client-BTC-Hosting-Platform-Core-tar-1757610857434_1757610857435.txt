看过了，这两包其实正好一主一辅，合在一起就能落地你要的“托管透明 + Host/Client 双视角（不涉金流）”。

我看到的结构与定位

BTC-Hosting-Platform-Core.tar.gz（“托管内核”）

Flask + Blueprint：modules/hosting/（已分好 /host 与 /client 两组页面）。

现成 API：站点/矿机/工单/公开状态页等（如 /hosting/api/overview, /api/sites, /api/miners…）。

模板齐全：templates/hosting/*（host_dashboard、site_detail、client_dashboard、client_miners、client_reports、public_status 等）。

数据模型：models.py / models_hosting.py 中有 HostingSite / HostingMiner / MinerTelemetry / Ticket / Incident / Bill* 等（可直接支撑“只读监控 + 对账证据”）。

⚠️ 估算用的硬编码参数不少（电价/产出系数等在路由内直接写常数）；登录/权限基于 session.role；未见 CSRF/速率限制；“Billing”命名仍出现（虽未触金流）。

BTC-Analytics-Suite.tar.gz（“分析与增配件”）

计算与报告：analytics_engine.py / professional_report_generator.py / historical_data_engine.py / advanced_algorithm_engine.py。

批量计算与仪表：batch_calculator_routes.py、多模板（analytics_dashboard、technical_analysis）。

集成与数据源：multi_exchange_collector.py / bitcoin_rpc_client.py / coinwarz_api.py / alternative_data_sources.py。

账户与订阅：models_subscription.py。

⚠️ 明显金流/中介模块：billing_routes.py、mining_broker_routes.py（佣金、Deal、CommissionRecord、收付状态）。这些需要整体禁用。

快速结论（能不能用 & 怎么用）

**能。**建议以 Hosting Core 为壳，把 Analytics 里“纯计算/报告”的部分嵌入到 /client/reports 与 /host/overview，把任何“金流/中介”相关完整关掉。这样既满足“不碰钱”，又能把你的“透明对账 + 可验证报告”做出来。

合包与取舍（我给你挑好了）

保留并接入（直接可用）

Hosting Core：modules/hosting/* 全留；templates/hosting/*；models(含 Hosting*)；/status/<site_slug> 公共页。

Analytics Suite：analytics_engine.py / professional_report_generator.py / historical_data_engine.py / advanced_algorithm_engine.py / batch_calculator_routes.py / mining_calculator.py。

必须禁用（整块拔掉）

mining_broker_routes.py（佣金/中介）

billing_routes.py（账单收付流）

models_subscription.py（订阅付费）

这些文件里涉及 Deal / CommissionRecord / paid / payment 字段与路由，和你的“无金流”目标冲突，建议不加载蓝图+不迁移对应表。

代码层面的主要发现与建议

安全基线

现有路由普遍只用 login_required 与 session.role 判断；补：CSRF、速率限制、统一错误处理、服务端输入校验。

加mTLS（站点采集→云端）与消息级签名我之前已给方案，可直接对接 /api/* 入站。

公共状态页 /status/<site_slug> 已有“仅高等级事件简化显示”，不错；加上缓存+签名的透明日志哈希更稳。

命名与文案

将 /client/billing 全改为 /client/usage（当前模板中已有 client_billing.html，请更名为 client_usage.html），并在页面顶部加粗声明“仅用量与成本估算，不产生支付”。

估算常数外置

在 routes.py 多处看到 0.08（电价）、产出常数、随机生成图表数据等，统一移到 config.py 或站点级参数表，避免硬编码。

数据与迁移

建表最小集：organizations, users, hosting_sites, hosting_miners, miner_telemetry, hosting_incidents, hosting_tickets, audit_logs（不建 bills/commission 相关）。

给 miner_telemetry 建分区或时间索引，7/30/90 天窗口查询要快。

导出/签名表：proofs, transparency_log, public_keys（支撑“可验证报告/证据包”）。

页面挂点

/host/overview：接 get_hosting_overview() 的 JSON；把 Analytics 的 KPI 小组件嵌入（在线率、估算产出、事件）。

/client/dashboard：聚合 get_client_dashboard() 与 Analytics 的收益/成本曲线（由历史引擎填数）。

/client/reports：切入 professional_report_generator.py，导出 ZIP + manifest.json + 签名；“一键验真”。

下一步 Roadmap（两周就能跑出一个可信版本）

Week 1：合并与安全底座

以 Hosting Core 为主应用；把 Analytics 的计算模块以 service/blueprint 挂到 /analytics/*（仅被 /client/reports 与 /host/overview 调用，不对外暴露多余入口）。

移除/不注册：mining_broker_routes.py、billing_routes.py、订阅相关。

环境配置：.env + 启动检查；开启 CSRF、CSP、安全头、速率限制；日志打 trace_id。

数据迁移：建建议的 8 张核心表；演示数据与演示站点 1 个。

Week 2：透明对账 + 可验证报告

/client/usage 页面替换 & 文案；矿池 CSV 对账（只读上传→差异摘要→“争议包” ZIP）。

透明日志（每日根哈希、平台签名）；/status 和 /client/reports 增“验真”按钮。

报告导出：把 Analytics 的报告引擎接进去，产出月报 ZIP（清单、散列、签名、公钥指纹）。

如果你要“字段对齐 + OpenAPI 草案 + Alembic 初迁移”，我可以直接按这两个包的结构给你一版最小可跑的骨架（不触金流、包含签名与透明日志）。

我建议的目录合并结果（目标态）
/app
  app.py / auth.py / config.py / requirements.txt
  models.py (含 Hosting* 与 Telemetry/Audit)
  modules/
    hosting/ (保留)
    analytics/   ← 从 Analytics Suite 迁移过来，仅保留计算/报告
      engines/ (analytics_engine, historical_data_engine, advanced_algorithm_engine)
      reports/ (professional_report_generator, templates for monthly report)
      routes.py (只暴露 /api/reports/* 给内部调用)
  templates/
    hosting/ (改名 client_billing→client_usage；新增 reports 验真按钮)
    reports/ (导出视图)
  services/
    reconciliation/ (pool_csv_parser, energy_allocation)
    verifiability/ (merkle, signer, proofs, transparency_log)

风险清单（上线前务必打勾）

 禁用并移除 Broker/Commission/Subscription 的蓝图与菜单项。

 所有“费用/收益”仅作估算与对账证据，不出现“应收/应付/支付”字样。

 .env 接管常数；删除路由中的硬编码电价与随机数。

 API 加 CSRF/速率限制；上传接口限制 MIME/大小/后缀。

 导出 ZIP 带 manifest.json、merkle_root、signature；公钥指纹可下载。

 /status/<site_slug> 不泄露客户/序列号/内网信息；仅统计与公开事件。