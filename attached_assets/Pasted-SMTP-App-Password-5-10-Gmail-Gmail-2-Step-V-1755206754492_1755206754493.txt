SMTP + App Password（最简单，5–10 分钟跑通）

适用：只要能登录这个 Gmail 账号，量级不大（测试/小规模）。

步骤

给该 Gmail 开启 两步验证（2-Step Verification）

在 Google 账户 → 安全性 → 应用专用密码（App Passwords）

选择应用：Mail；设备：Other（自命名）→ 生成

得到一串 16 位 App Password（只显示一次，妥善保存）

SMTP 配置：

Host：smtp.gmail.com

Port：587（STARTTLS）或 465（SSL）

User：你的 Gmail 地址

Pass：刚生成的 App Password

发信代码

Node.js（nodemailer）

import nodemailer from 'nodemailer';

const transporter = nodemailer.createTransport({
  host: 'smtp.gmail.com',
  port: 587,            // 或 465 + secure: true
  secure: false,        // 587 用 STARTTLS
  auth: {
    user: process.env.GMAIL_USER,       // yourname@gmail.com
    pass: process.env.GMAIL_APP_PASS    // 16位App Password
  }
});

export async function sendVerify(to, link) {
  await transporter.sendMail({
    from: `"BTC Calculator" <${process.env.GMAIL_USER}>`,
    to,
    subject: 'Verify your email',
    html: `
      <p>点击下面按钮完成邮箱验证：</p>
      <p><a href="${link}" 
            style="padding:10px 16px;background:#2f6fed;color:#fff;text-decoration:none;border-radius:6px;"
      >验证邮箱</a></p>
      <p>若无法点击，请复制到浏览器：<br>${link}</p>`,
    text: `请打开此链接完成验证：${link}`
  });
}


Python（smtplib + TLS）

import os, smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

def send_verify(to, link):
    msg = MIMEMultipart("alternative")
    msg["From"] = os.environ["GMAIL_USER"]
    msg["To"] = to
    msg["Subject"] = "Verify your email"

    text = f"请打开此链接完成验证：{link}"
    html = f"""<p>点击下面按钮完成邮箱验证：</p>
               <p><a href="{link}" style="padding:10px 16px;background:#2f6fed;color:#fff;text-decoration:none;border-radius:6px;">验证邮箱</a></p>
               <p>若无法点击，请复制到浏览器：<br>{link}</p>"""
    msg.attach(MIMEText(text, "plain", "utf-8"))
    msg.attach(MIMEText(html, "html", "utf-8"))

    with smtplib.SMTP("smtp.gmail.com", 587) as s:
        s.starttls()
        s.login(os.environ["GMAIL_USER"], os.environ["GMAIL_APP_PASS"])
        s.sendmail(msg["From"], [to], msg.as_string())


小贴士

From 必须是这个 Gmail 账号或其“发送邮件别名”里已添加并确认的地址。

App Password 不等于正常密码，只有开启 2FA 才能生成。

量级限制：个人 Gmail 大约 500 收件人/天；Workspace 账号更高。超限会临时封发信。